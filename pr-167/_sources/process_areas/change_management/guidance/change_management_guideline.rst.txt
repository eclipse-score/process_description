..
   # *******************************************************************************
   # Copyright (c) 2025 Contributors to the Eclipse Foundation
   #
   # See the NOTICE file(s) distributed with this work for additional
   # information regarding copyright ownership.
   #
   # This program and the accompanying materials are made available under the
   # terms of the Apache License Version 2.0 which is available at
   # https://www.apache.org/licenses/LICENSE-2.0
   #
   # SPDX-License-Identifier: Apache-2.0
   # *******************************************************************************

Guideline
#########

.. gd_guidl:: Change Request Guideline
   :id: gd_guidl__change_change_request
   :status: valid
   :tags: change_management
   :complies: std_req__iso26262__support_8414, std_req__iso26262__support_8432, std_req__iso26262__support_8442, std_req__iso26262__support_8451


!!This is still under construction!!

This document describes the general guidances for Change Management based on the concept which is defined :need:`[[title]]<doc_concept__change_process>`.

General Hints
=============

The detailed implementation of the Change Management for the project shall be described in the :ref:`Workflow Platform Management <workflow_platform_management>`.

Templates
---------

To create change request, the project shall provide the content of the following template
in project's selected Issue Tracking System: :need:`[[title]] <gd_temp__change_feature_request>`
and :need:`[[title]] <gd_temp__change_component_request>`.

.. note::
  An example template for the Issue Tracking System in GitHub (`GitHub Issues <https://github.com/features/issues>`_)
  can be found here:
  `Issue Template Change Request <https://github.com/eclipse-score/process_description/blob/main/.github/ISSUE_TEMPLATE/3-change.yml>`_

Attributes
----------

For all Change Requests following mandatory attributes need to be defined:

.. needtable:: Overview of mandatory change request attributes
   :tags: change_management
   :filter: "mandatory" in tags and "attribute" in tags and "change_management" in tags and is_external == False
   :style: table
   :columns: title
   :colwidths: 30


A more detailed description can be found here: :ref:`chm_process_change_request_attributes`.


.. _workflow_chm_requirements:

Activities for Change Requests
==============================

This section describes in detail which steps need to be performed for a Change Request.

.. list-table:: Activities for Change Request
   :header-rows: 1
   :widths: 10,60,30,30

   * - Step
     - Description
     - Responsible
     - Approver
   * - :ref:`1. <chm_create_change_request>`
     - Create Change Request
     - :need:`[[title]] <rl__contributor>`
     - :need:`[[title]] <rl__committer>`
   * - :ref:`2. <chm_analyze_change_request>`
     - Analyze Change Request
     - :need:`[[title]] <rl__contributor>`
     - :need:`[[title]] <rl__committer>`
   * - :ref:`3. <chm_analyze_change_request>`
     - Implement and Monitor Change Request
     - :need:`[[title]] <rl__contributor>`
     - :need:`[[title]] <rl__committer>`
   * - :ref:`4. <chm_close_change_request>`
     - Close Change Request
     - :need:`[[title]] <rl__committer>`
     - :need:`[[title]] <rl__technical_lead>`, :need:`[[title]] <rl__module_lead>`


.. _chm_create_change_request:

Create Change Request
---------------------

:need:`[[title]] <rl__contributor>` creates the Change Request in the defined Issue
Tracking System of the project based on the content of the provided templates:
:need:`[[title]] <gd_temp__change_feature_request>` or
:need:`[[title]] <gd_temp__change_component_request>`.

It is expected that the select Issue Tracking system supports template definition. Best
practice is to define a template with the required content, so that it can be copied
from the different users.

.. note::
  For the Issue Tracking System in GitHub, there is a template created, which can be
  be found here:
  `Issue Template Bugfix <https://github.com/eclipse-score/process_description/blob/main/.github/ISSUE_TEMPLATE/3-change.yml>`_

.. note::
  A Change Request Example based on that template is here: (to be changed later)
  `Example Problem Report <https://github.com/eclipse-score/process_description/issues/124>`_

.. note::
  A Problem Report Example 2 based on that template is here: (to be changed later)
  `Example Problem Report 2 <https://github.com/eclipse-score/process_description/issues/126>`_


It is expected, that the UID will be provided automatically by the Issue Tracking System.

It is expected, that the status of the change request is set to "open" automatically.
As long as the content is updated, the status of the Problem is kept "open".

It is expected, that the change request submitter will be set automatically by the Issue
Tracking System.

The title of the change request should reflect the topic accordingly.

The description should reflect the problem root cause and impact in detail.
   Exact description of the Change Request, including impact analysis on functional safety,
   security, implementation (schedule, risks, resources) verification (measures defined).

If applicable affected parties should be notified.

Further supporting information should ge given, especially how to reproduce the problem,
and what is the error occurrence rate?

If the problem affects safety or security it should be stated explicitly.
If safety is affected, the ASIL classification should be added, if applicable.

The problem should be classified according minor, major, critical or blocker.

The affected version of the release should be documented, where the problem was detected.


The affected version of the release should be documented, where the problem was detected.

.. note::
  | For the Change Request Example: (to be updated)
  | * The UID is provided by the Issue Tracking System as: **#124**
  | * The status of the issue is provided by the Issue Tracking System as: **Open**
  | * The submitter is provided by the Issue Tracking System as: **masc2023**
  | * The title contains the main root cause, missing safety/security attribute
  | * The descriptions has a section for the **Root cause** and **Impact**
  | * The description has a section for notification: **Notification required?**
  | * Further supporting information is added as the link to the official feature request template which makes it reproducible
  | * Checkboxes are selected to highlight, that Safety and Security is affected, no further classification, as the project is defined as ASIL B
  | * The problem classification is provided as minor
  | * The affected version is provided: *pre-0.5*

When ready to review and to analyze, the author sets the status to "in review" manually.

.. note::
  | For the Problem Report Example:  (to be updated)
  | * The "Process Development Community" dashboard is added and the status must be changed to **Todo**
  | * The combination of the issue**Open** and **Todo** defines the status **in review**


.. _chm_analyze_change_request:

Analyze Change Request
----------------------

The projects :need:`[[title]] <rl__committer>` analyzes the change request together with
the :need:`[[title]] <rl__contributor>` and takes a decision for accepting or rejecting it.

The analysis will start by reviewing all the information given during the creation of the
change request. All topics are revisited and checked for correctness, completeness and
consistency.

If required, the information is updated accordingly.

If accepted, the stakeholder of the problem and the expected release, where the problem
should be closed, shall be defined. Optionally, the corresponding milestone can be set.

If applicable, the features affected should be identified too.

The description shall reflect the result of the analysis.

To enable the **S-CORE** :need:`[[title]] <rl__committer>` to take a decision for approval of the
Change Request, :need:`[[title]] <rl__contributor>` analyses and documents the request concerning
the following topics in the created Change Request:

1. List of all affected work products
2. Provide potential implementation schedule including targeted Milestone
3. Identify risks for implementation, required project resources
4. Identify impact on existing work products and on functional safety, security
5. Define verification measures used to confirm the implementation

Use therefore the : :ref:`Impact Analysis Template <chm_impact_analysis_templates>` and copy it
into the created Change Request (Issue Tracking System).

.. note::
  | For the Change Request Example: (to be updated)
  | * The descriptions has a section for the analysis results: **Accepted**
  | * The stakeholder are provided using Assignees field: **masc2023**
  | * The expected closure version is provided: *0.5*
  | * The "Milestone" is provided: **Release 2.0.0 - Maturity Level 2**
  | * Feature identification is not applicable for this example, so no label is set, beside **bug**

If accepted, :need:`[[title]] <rl__contributor>` can start with the implementation of the
Change Request.

The author has the freedom to cancel it at any time by setting the status to "rejected".

.. note::
  | For the Change Request Example: (to be updated)
  | * For rejection the status of the issue must be changed to **Closed as not planned**
  | * The combination of **Closed as not planned** and any "Process Development Community" status defines the status **rejected**


:need:`[[title]] <rl__committer>` checks the Change Request in status "in review" based on
checklist questions and provided content. If the check is passed, the Change Request is approved,
which is pre-requisite for the implementation of the Change Request. In this case the status
of the Change Request is changed to "accepted".

In case information are missing the status will be kept in "in review" and the creator is asked
for resolving the review comments.

Finally the Change Request may also "rejected", then the implementation is not wanted.


.. _chm_imp_mon_change_request:

Implement and Monitor Change Request
------------------------------------

:need:`[[title]] <rl__committer>` checks the Change Request in status "in review" based on
checklist questions and provided content. If the check is passed, the Change Request is approved,
which is pre-requisite for the implementation of the Change Request. In this case the status
of the Change Request is changed to "accepted".

In case information are missing the status will be kept in "in review" and the creator is asked
for resolving the review comments.

Finally the Change Request may also "rejected", then the implementation is not wanted.


:need:`[[title]] <rl__contributor>` implements the Change Request. This is indicated by the
Change Request status "in review". During implementation the responsible lead
:need:`[[title]] <rl__technical_lead>` or :need:`[[title]] <rl__module_lead>` reports regularly
the status to the involved **S-CORE** teams until is completed and verified.

The traceability from the Change Request to the affected work products must be established
during implementation.
Also the verification measures must be executed.



If accepted, the projects :need:`[[title]] <rl__committer>` initiates the resolution of
the problem together with the :need:`[[title]] <rl__contributor>`.

The description shall reflect the proposed solutions, e.g. measure to resolve the problem.

.. note::
  | For the Problem Report Example:
  | * The descriptions has a section for the proposed **Solution**

The concrete implementation of the solution may require several additional activities.
In this case additional issues may created and linked to the Problem Report.

.. note::
  | For the Problem Report Example:
  | * The **Create sub-issue** should be used to create further linked issues.

Minimal a Pull Request is sufficient to resolve the problem, which shall be linked
to the Problem Report. It is expected, that the status of the Pull Request is set to
"draft" or "open" automatically.

When ready to implement, the author sets the status to "in implementation" manually.

.. note::
  | For the Problem Report Example:
  | * The "Process Development Community" status must be changed to **In Progress**
  | * The linked Pull Request status is either "Draft" or "Open"
  | * The combination of **Open** and any "Process Development Community" status **In Progress** and the Pull Request status **Draft** or **Open** defines the status **in implementation**

.. note::
  | For the Problem Report Example:
  | * The **Development** section should be used to link to an pull request
  | * The **Create a branch** action may used to create automatically a linked pull request
  | For the Problem Report Example 2:
  | * The **Create a branch** action was used to create a automatically linked Pull Request
  | * The automatically created branch name reflects the issue UID and the title as
  | * **126-bug-stkh_req__archdes_example_req-has-no-content**

During the resolution the responsible lead :need:`[[title]] <rl__technical_lead>` or
:need:`[[title]] <rl__module_lead>` reports regularly the status to the affected
projects teams.

Escalations topics should be documented in the description, if possible.

.. note::
  | For the Problem Report Example and Example 2:
  | * Their is no escalation topic documented

The author has the freedom to cancel it at any time by setting the status to "rejected".


.. _chm_close_change_request:

Close Change Request
--------------------

:need:`[[title]] <rl__committer>` must finally check, that implementation is complete
and the defined verification measures are properly executed and successfully pass, before the
Change Request can be finally approved.

The Change Request is closed by setting the status to "accepted".

During the resolution the :need:`[[title]] <rl__contributor>` monitors all activities linked to
the problem, until they are closed.

:need:`[[title]] <rl__committer>` checks finally if the problem Resolution is sufficient before
the status is finally closed.
To check, if it is sufficient, :need:`Problem Checklist <gd_chklst__problem_cr_review>` may used.
Further the effectiveness of the implemented measure is confirmed and the availability
of the required reports, as verification results, if applicable.

When confirmed, the author sets the status to "closed" manually, if not done automatically.

.. note::
  | For the Problem Report Example 2:
  | * The status of the issue is provided by the Issue Tracking System as: **Closed**
  | * The combination of **Closed** and any "Process Development Community" status **Done** and the Pull Request status **Merged** defines the status **closed**

:need:`[[title]] <rl__committer>` has the freedom to reject it at any time by setting the status
to "reject".
